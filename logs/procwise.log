2025-08-03 20:16:39,698 - INFO - api.main - API starting up...
2025-08-03 20:16:39,699 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-03 20:16:39,699 - INFO - agents.base_agent - Initializing shared clients...
2025-08-03 20:16:39,775 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-03 20:16:40,065 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-03 20:16:40,065 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-03 20:16:41,791 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-03 20:16:41,874 - INFO - agents.base_agent - Clients initialized.
2025-08-03 20:16:41,874 - INFO - agents.base_agent - Initializing core engines...
2025-08-03 20:16:41,874 - INFO - agents.base_agent - Engines initialized.
2025-08-03 20:16:41,885 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procurement_documents_v2 "HTTP/1.1 404 Not Found"
2025-08-03 20:16:41,886 - INFO - agents.base_agent - Creating Qdrant collection 'procurement_documents_v2'...
2025-08-03 20:16:42,082 - INFO - httpx - HTTP Request: PUT https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procurement_documents_v2 "HTTP/1.1 200 OK"
2025-08-03 20:16:42,083 - INFO - agents.base_agent - AgentNick is ready.
2025-08-03 20:16:42,083 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-03 20:16:42,084 - INFO - agents.data_extraction_agent - Fetching database schemas for all agents...
2025-08-03 20:16:42,151 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-03 20:16:42,151 - INFO - api.main - System initialized successfully.
2025-08-03 20:17:40,193 - INFO - api.main - API shutting down.
2025-08-03 20:17:55,018 - INFO - api.main - API starting up...
2025-08-03 20:17:55,018 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-03 20:17:55,018 - INFO - agents.base_agent - Initializing shared clients...
2025-08-03 20:17:55,094 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-03 20:17:55,382 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-03 20:17:55,382 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-03 20:17:57,108 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-03 20:17:57,170 - INFO - agents.base_agent - Clients initialized.
2025-08-03 20:17:57,170 - INFO - agents.base_agent - Initializing core engines...
2025-08-03 20:17:57,171 - INFO - agents.base_agent - Engines initialized.
2025-08-03 20:17:57,181 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procurement_documents_v2 "HTTP/1.1 200 OK"
2025-08-03 20:17:57,183 - INFO - agents.base_agent - Qdrant collection 'procurement_documents_v2' already exists.
2025-08-03 20:17:57,183 - INFO - agents.base_agent - AgentNick is ready.
2025-08-03 20:17:57,183 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-03 20:17:57,183 - INFO - agents.data_extraction_agent - Fetching database schemas for all agents...
2025-08-03 20:17:57,222 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-03 20:17:57,222 - INFO - api.main - System initialized successfully.
2025-08-03 20:19:36,566 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-03 20:32:12,960 - INFO - api.main - API shutting down.
2025-08-03 20:32:27,644 - INFO - api.main - API starting up...
2025-08-03 20:32:27,644 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-03 20:32:27,644 - INFO - agents.base_agent - Initializing shared clients...
2025-08-03 20:32:27,720 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-03 20:32:28,039 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-03 20:32:28,039 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-03 20:32:29,665 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-03 20:32:29,732 - INFO - agents.base_agent - Clients initialized.
2025-08-03 20:32:29,732 - INFO - agents.base_agent - Initializing core engines...
2025-08-03 20:32:29,733 - INFO - agents.base_agent - Engines initialized.
2025-08-03 20:32:29,743 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procurement_documents_v2 "HTTP/1.1 200 OK"
2025-08-03 20:32:29,745 - INFO - agents.base_agent - Qdrant collection 'procurement_documents_v2' already exists.
2025-08-03 20:32:29,745 - INFO - agents.base_agent - AgentNick is ready.
2025-08-03 20:32:29,745 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-03 20:32:29,745 - INFO - agents.data_extraction_agent - Fetching database schemas for all agents...
2025-08-03 20:32:29,798 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-03 20:32:29,798 - INFO - api.main - System initialized successfully.
2025-08-03 20:33:33,328 - INFO - services.model_selector - Answering query with model 'llama3.2' and filter: doc_type='string'
2025-08-03 20:33:33,573 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procurement_documents_v2/points/search "HTTP/1.1 400 Bad Request"
2025-08-03 20:35:26,664 - INFO - agents.data_extraction_agent - DataExtractionAgent starting run...
2025-08-03 20:42:05,159 - INFO - api.main - API shutting down.
2025-08-03 20:42:12,282 - INFO - api.main - API starting up...
2025-08-03 20:42:12,282 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-03 20:42:12,282 - INFO - agents.base_agent - Initializing shared clients...
2025-08-03 20:42:12,378 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-03 20:42:12,679 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-03 20:42:12,680 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-03 20:42:14,437 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-03 20:42:14,503 - INFO - agents.base_agent - Clients initialized.
2025-08-03 20:42:14,503 - INFO - agents.base_agent - Initializing core engines...
2025-08-03 20:42:14,503 - INFO - agents.base_agent - Engines initialized.
2025-08-03 20:42:14,513 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procurement_documents_v2 "HTTP/1.1 200 OK"
2025-08-03 20:42:14,515 - INFO - agents.base_agent - Qdrant collection 'procurement_documents_v2' already exists.
2025-08-03 20:42:14,515 - INFO - agents.base_agent - AgentNick is ready.
2025-08-03 20:42:14,515 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-03 20:42:14,515 - INFO - agents.data_extraction_agent - Fetching database schemas for all agents...
2025-08-03 20:42:14,574 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-03 20:42:14,574 - INFO - api.main - System initialized successfully.
2025-08-04 02:20:32,309 - INFO - api.main - API shutting down.
2025-08-04 02:20:43,633 - INFO - api.main - API starting up...
2025-08-04 02:20:43,633 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-04 02:20:43,633 - INFO - agents.base_agent - Initializing shared clients...
2025-08-04 02:20:43,715 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-04 02:20:44,117 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-04 02:20:44,118 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-04 02:20:45,960 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-04 02:20:46,035 - INFO - agents.base_agent - Clients initialized.
2025-08-04 02:20:46,035 - INFO - agents.base_agent - Initializing core engines...
2025-08-04 02:20:46,035 - INFO - agents.base_agent - Engines initialized.
2025-08-04 02:20:46,046 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procurement_documents_v2 "HTTP/1.1 200 OK"
2025-08-04 02:20:46,048 - INFO - agents.base_agent - AgentNick is ready.
2025-08-04 02:20:46,048 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-04 02:20:46,048 - INFO - agents.data_extraction_agent - Fetching database schemas...
2025-08-04 02:20:46,245 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-04 02:20:46,245 - INFO - api.main - System initialized successfully.
2025-08-04 03:39:34,288 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 03:40:57,972 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 03:41:13,288 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 03:41:31,581 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 04:04:09,786 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procurement_documents_v2/points/search "HTTP/1.1 400 Bad Request"
2025-08-04 04:06:51,679 - INFO - api.main - API shutting down.
2025-08-04 04:07:15,340 - INFO - api.main - API starting up...
2025-08-04 04:07:15,340 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-04 04:07:15,340 - INFO - agents.base_agent - Initializing shared clients...
2025-08-04 04:07:15,447 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-04 04:07:15,932 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-04 04:07:15,932 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-04 04:07:18,446 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-04 04:07:18,540 - INFO - agents.base_agent - Clients initialized.
2025-08-04 04:07:18,540 - INFO - agents.base_agent - Initializing core engines...
2025-08-04 04:07:18,540 - INFO - agents.base_agent - Engines initialized.
2025-08-04 04:07:18,552 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procurement_documents_v2 "HTTP/1.1 200 OK"
2025-08-04 04:07:18,555 - INFO - agents.base_agent - Qdrant collection 'procurement_documents_v2' already exists.
2025-08-04 04:07:18,555 - INFO - agents.base_agent - AgentNick is ready.
2025-08-04 04:07:18,555 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-04 04:07:18,555 - INFO - agents.data_extraction_agent - Fetching database schemas...
2025-08-04 04:07:18,638 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-04 04:07:18,639 - INFO - api.main - System initialized successfully.
2025-08-04 04:08:37,636 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procurement_documents_v2/points/search "HTTP/1.1 400 Bad Request"
2025-08-04 04:11:31,855 - INFO - api.main - API shutting down.
2025-08-04 04:11:58,177 - INFO - api.main - API starting up...
2025-08-04 04:11:58,178 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-04 04:11:58,178 - INFO - agents.base_agent - Initializing shared clients...
2025-08-04 04:11:58,299 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-04 04:11:58,768 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-04 04:11:58,768 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-04 04:12:01,115 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-04 04:12:01,207 - INFO - agents.base_agent - Clients initialized.
2025-08-04 04:12:01,207 - INFO - agents.base_agent - Initializing core engines...
2025-08-04 04:12:01,208 - INFO - agents.base_agent - Engines initialized.
2025-08-04 04:12:01,220 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/document_embeddings_v2 "HTTP/1.1 200 OK"
2025-08-04 04:12:01,223 - INFO - agents.base_agent - Qdrant collection 'document_embeddings_v2' already exists.
2025-08-04 04:12:01,223 - INFO - agents.base_agent - AgentNick is ready.
2025-08-04 04:12:01,224 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-04 04:12:01,224 - INFO - agents.data_extraction_agent - Fetching database schemas...
2025-08-04 04:12:01,354 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-04 04:12:01,354 - INFO - api.main - System initialized successfully.
2025-08-04 04:12:11,970 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/document_embeddings_v2/points/search "HTTP/1.1 400 Bad Request"
2025-08-04 04:17:39,783 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/document_embeddings_v2/points/search "HTTP/1.1 400 Bad Request"
2025-08-04 04:17:42,066 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/document_embeddings_v2/points/search "HTTP/1.1 400 Bad Request"
2025-08-04 04:28:00,549 - INFO - api.main - API shutting down.
2025-08-04 04:28:25,315 - INFO - api.main - API starting up...
2025-08-04 04:28:25,315 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-04 04:28:25,315 - INFO - agents.base_agent - Initializing shared clients...
2025-08-04 04:28:25,424 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-04 04:28:25,924 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-04 04:28:25,924 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-04 04:28:28,199 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-04 04:28:28,295 - INFO - agents.base_agent - Clients initialized.
2025-08-04 04:28:28,306 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7 "HTTP/1.1 200 OK"
2025-08-04 04:28:28,309 - INFO - agents.base_agent - Qdrant collection 'procwise_collection_final_v7' already exists.
2025-08-04 04:28:28,309 - INFO - agents.base_agent - AgentNick is ready.
2025-08-04 04:28:28,309 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-04 04:28:28,309 - INFO - agents.data_extraction_agent - Fetching database schemas...
2025-08-04 04:28:28,390 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-04 04:28:28,391 - CRITICAL - api.main - FATAL: System initialization failed: 'AgentNick' object has no attribute 'policy_engine'
Traceback (most recent call last):
  File "/home/muthu/PycharmProjects/procwise_agents/api/main.py", line 30, in lifespan
    'supplier_ranking': SupplierRankingAgent(agent_nick)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/muthu/PycharmProjects/procwise_agents/agents/supplier_ranking_agent.py", line 21, in __init__
    self.policy_engine = agent_nick.policy_engine
                         ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AgentNick' object has no attribute 'policy_engine'
2025-08-04 04:30:32,020 - INFO - api.main - API shutting down.
2025-08-04 04:30:57,441 - INFO - api.main - API starting up...
2025-08-04 04:30:57,441 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-04 04:30:57,441 - INFO - agents.base_agent - Initializing shared clients...
2025-08-04 04:30:57,551 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-04 04:30:57,989 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-04 04:30:57,989 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-04 04:31:00,535 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-04 04:31:00,643 - INFO - agents.base_agent - Clients initialized.
2025-08-04 04:31:00,643 - INFO - agents.base_agent - Initializing core engines...
2025-08-04 04:31:00,644 - INFO - agents.base_agent - Engines initialized.
2025-08-04 04:31:00,655 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7 "HTTP/1.1 200 OK"
2025-08-04 04:31:00,657 - INFO - agents.base_agent - Qdrant collection 'procwise_collection_final_v7' already exists.
2025-08-04 04:31:00,657 - INFO - agents.base_agent - AgentNick is ready.
2025-08-04 04:31:00,657 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-04 04:31:00,657 - INFO - agents.data_extraction_agent - Fetching database schemas...
2025-08-04 04:31:00,725 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-04 04:31:00,725 - INFO - api.main - System initialized successfully.
2025-08-04 05:30:49,818 - INFO - httpx - HTTP Request: GET http://127.0.0.1:11434/api/tags "HTTP/1.1 200 OK"
2025-08-04 05:31:07,505 - INFO - agents.data_extraction_agent - --- High-Accuracy Data Extraction Run Starting ---
2025-08-04 06:28:59,299 - INFO - services.model_selector - Answering query with model 'string' and filters: doc_type='string', product_type='string'
2025-08-04 08:13:49,129 - INFO - httpx - HTTP Request: GET http://127.0.0.1:11434/api/tags "HTTP/1.1 200 OK"
2025-08-04 08:16:17,754 - INFO - services.model_selector - Answering query with model 'string' and filters: doc_type='string', product_type='string'
2025-08-04 09:15:53,303 - INFO - httpx - HTTP Request: GET http://127.0.0.1:11434/api/tags "HTTP/1.1 200 OK"
2025-08-04 09:16:46,390 - INFO - httpx - HTTP Request: GET http://127.0.0.1:11434/api/tags "HTTP/1.1 200 OK"
2025-08-04 09:17:11,802 - INFO - httpx - HTTP Request: GET http://127.0.0.1:11434/api/tags "HTTP/1.1 200 OK"
2025-08-04 09:28:14,606 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='string', product_type='string'
2025-08-04 09:31:21,532 - INFO - httpx - HTTP Request: GET http://127.0.0.1:11434/api/tags "HTTP/1.1 200 OK"
2025-08-04 09:39:03,306 - INFO - api.main - API shutting down.
2025-08-04 09:41:00,680 - INFO - api.main - API starting up...
2025-08-04 09:41:00,680 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-04 09:41:00,680 - INFO - agents.base_agent - Initializing shared clients...
2025-08-04 09:41:00,786 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-04 09:41:01,222 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-04 09:41:01,222 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-04 09:41:03,416 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-04 09:41:03,512 - INFO - agents.base_agent - Clients initialized.
2025-08-04 09:41:03,512 - INFO - agents.base_agent - Initializing core engines...
2025-08-04 09:41:03,512 - INFO - agents.base_agent - Engines initialized.
2025-08-04 09:41:03,523 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7 "HTTP/1.1 200 OK"
2025-08-04 09:41:03,526 - INFO - agents.base_agent - Qdrant collection 'procwise_collection_final_v7' already exists.
2025-08-04 09:41:03,526 - INFO - agents.base_agent - AgentNick is ready.
2025-08-04 09:41:03,526 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-04 09:41:03,526 - INFO - agents.data_extraction_agent - Fetching database schemas...
2025-08-04 09:41:03,648 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-04 09:41:03,648 - INFO - api.main - System initialized successfully.
2025-08-04 09:41:54,754 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='string', product_type='None'
2025-08-04 09:45:14,779 - INFO - api.main - API shutting down.
2025-08-04 09:45:25,482 - INFO - api.main - API starting up...
2025-08-04 09:45:25,482 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-04 09:45:25,482 - INFO - agents.base_agent - Initializing shared clients...
2025-08-04 09:45:25,586 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-04 09:45:26,027 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-04 09:45:26,028 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-04 09:45:28,086 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-04 09:45:28,191 - INFO - agents.base_agent - Clients initialized.
2025-08-04 09:45:28,191 - INFO - agents.base_agent - Initializing core engines...
2025-08-04 09:45:28,191 - INFO - agents.base_agent - Engines initialized.
2025-08-04 09:45:28,203 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7 "HTTP/1.1 200 OK"
2025-08-04 09:45:28,206 - INFO - agents.base_agent - Qdrant collection 'procwise_collection_final_v7' already exists.
2025-08-04 09:45:28,206 - INFO - agents.base_agent - AgentNick is ready.
2025-08-04 09:45:28,206 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-04 09:45:28,206 - INFO - agents.data_extraction_agent - Fetching database schemas...
2025-08-04 09:45:28,362 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-04 09:45:28,362 - INFO - api.main - System initialized successfully.
2025-08-04 09:46:53,200 - INFO - httpx - HTTP Request: GET http://127.0.0.1:11434/api/tags "HTTP/1.1 200 OK"
2025-08-04 09:47:38,959 - INFO - api.main - API shutting down.
2025-08-04 09:48:02,434 - INFO - api.main - API starting up...
2025-08-04 09:48:02,434 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-04 09:48:02,434 - INFO - agents.base_agent - Initializing shared clients...
2025-08-04 09:48:02,538 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-04 09:48:02,953 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-04 09:48:02,953 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-04 09:48:05,158 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-04 09:48:05,257 - INFO - agents.base_agent - Clients initialized.
2025-08-04 09:48:05,257 - INFO - agents.base_agent - Initializing core engines...
2025-08-04 09:48:05,257 - INFO - agents.base_agent - Engines initialized.
2025-08-04 09:48:05,268 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7 "HTTP/1.1 200 OK"
2025-08-04 09:48:05,271 - INFO - agents.base_agent - Qdrant collection 'procwise_collection_final_v7' already exists.
2025-08-04 09:48:05,271 - INFO - agents.base_agent - AgentNick is ready.
2025-08-04 09:48:05,271 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-04 09:48:05,271 - INFO - agents.data_extraction_agent - Fetching database schemas...
2025-08-04 09:48:05,327 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-04 09:48:05,327 - INFO - api.main - System initialized successfully.
2025-08-04 09:48:06,160 - INFO - httpx - HTTP Request: GET http://127.0.0.1:11434/api/tags "HTTP/1.1 200 OK"
2025-08-04 09:56:21,244 - INFO - api.main - API shutting down.
2025-08-04 09:56:40,105 - INFO - api.main - API starting up...
2025-08-04 09:56:40,105 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-04 09:56:40,105 - INFO - agents.base_agent - Initializing shared clients...
2025-08-04 09:56:40,179 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-04 09:56:40,540 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-04 09:56:40,540 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-04 09:56:42,314 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-04 09:56:42,384 - INFO - agents.base_agent - Clients initialized.
2025-08-04 09:56:42,384 - INFO - agents.base_agent - Initializing core engines...
2025-08-04 09:56:42,385 - INFO - agents.base_agent - Engines initialized.
2025-08-04 09:56:42,395 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7 "HTTP/1.1 200 OK"
2025-08-04 09:56:42,397 - INFO - agents.base_agent - Qdrant collection 'procwise_collection_final_v7' already exists.
2025-08-04 09:56:42,397 - INFO - agents.base_agent - AgentNick is ready.
2025-08-04 09:56:42,397 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-04 09:56:42,398 - INFO - agents.data_extraction_agent - Fetching database schemas...
2025-08-04 09:56:42,464 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-04 09:56:42,465 - INFO - api.main - System initialized successfully.
2025-08-04 09:57:49,826 - INFO - httpx - HTTP Request: GET http://127.0.0.1:11434/api/tags "HTTP/1.1 200 OK"
2025-08-04 09:58:19,854 - INFO - services.model_selector - Answering query with model 'string' and filters: doc_type='string', product_type='string'
2025-08-04 09:58:19,896 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 09:58:20,067 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 404 Not Found"
2025-08-04 09:58:31,503 - INFO - api.main - API shutting down.
2025-08-04 09:58:41,914 - INFO - api.main - API starting up...
2025-08-04 09:58:41,914 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-04 09:58:41,914 - INFO - agents.base_agent - Initializing shared clients...
2025-08-04 09:58:41,990 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-04 09:58:42,390 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-04 09:58:42,390 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-04 09:58:44,190 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-04 09:58:44,257 - INFO - agents.base_agent - Clients initialized.
2025-08-04 09:58:44,257 - INFO - agents.base_agent - Initializing core engines...
2025-08-04 09:58:44,257 - INFO - agents.base_agent - Engines initialized.
2025-08-04 09:58:44,267 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7 "HTTP/1.1 200 OK"
2025-08-04 09:58:44,270 - INFO - agents.base_agent - Qdrant collection 'procwise_collection_final_v7' already exists.
2025-08-04 09:58:44,270 - INFO - agents.base_agent - AgentNick is ready.
2025-08-04 09:58:44,270 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-04 09:58:44,270 - INFO - agents.data_extraction_agent - Fetching database schemas...
2025-08-04 09:58:44,322 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-04 09:58:44,322 - INFO - api.main - System initialized successfully.
2025-08-04 09:59:05,950 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='string', product_type='string'
2025-08-04 09:59:05,981 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 10:00:51,631 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:00:51,632 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 10:01:51,414 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:01:51,414 - ERROR - services.model_selector - Error generating follow-ups: Unterminated string starting at: line 1 column 1375 (char 1374)
2025-08-04 10:01:52,499 - INFO - httpx - HTTP Request: GET http://127.0.0.1:11434/api/tags "HTTP/1.1 200 OK"
2025-08-04 10:07:01,684 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='string', product_type='string'
2025-08-04 10:07:01,710 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 10:07:19,375 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:07:19,375 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 10:07:56,950 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:11:10,702 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 10:11:10,728 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 10:11:29,791 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:11:29,791 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 10:12:57,230 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:14:15,309 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 10:14:15,334 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 10:14:36,703 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:14:36,704 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 10:15:08,725 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:16:29,539 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 10:16:29,563 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 10:16:57,065 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:16:57,066 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 10:17:22,589 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:17:22,589 - ERROR - services.model_selector - Error generating follow-ups: Unterminated string starting at: line 1 column 70 (char 69)
2025-08-04 10:18:10,994 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 10:18:11,018 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 10:18:49,709 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:18:49,709 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 10:19:23,081 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:19:23,082 - ERROR - services.model_selector - Error generating follow-ups: Unterminated string starting at: line 1 column 190 (char 189)
2025-08-04 10:24:06,345 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 10:24:06,372 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 10:24:51,965 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:24:51,965 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 10:25:45,491 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:26:48,441 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 10:26:48,467 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 10:27:28,690 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:27:28,691 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 10:28:51,150 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:30:43,262 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 10:30:43,289 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 10:31:47,151 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:31:47,152 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 10:34:18,636 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:35:12,683 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 10:35:12,708 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 10:36:31,673 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:36:31,673 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 10:41:27,168 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:46:00,865 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 10:46:00,890 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 10:47:15,536 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 10:47:15,536 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 10:47:43,874 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 11:07:39,282 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 11:07:39,307 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 11:09:21,605 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 11:09:21,606 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 11:10:48,977 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 11:12:45,766 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 11:12:45,791 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 11:14:35,262 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 11:14:35,262 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 11:15:12,220 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 11:54:41,189 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 11:54:41,214 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 11:56:41,930 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 11:56:41,930 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 11:57:19,832 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 12:07:42,605 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 12:07:42,642 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 12:09:46,565 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 12:09:46,566 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 12:10:21,310 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 12:25:15,980 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='string', product_type='string'
2025-08-04 12:25:16,007 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 12:27:22,263 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 12:27:22,264 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 12:27:48,640 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 12:40:49,757 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='string', product_type='string'
2025-08-04 12:40:49,793 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 12:43:29,873 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 12:43:29,874 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 12:44:54,434 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 13:02:28,743 - INFO - api.main - API shutting down.
2025-08-04 13:02:47,479 - INFO - api.main - API starting up...
2025-08-04 13:02:47,479 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-04 13:02:47,479 - INFO - agents.base_agent - Initializing shared clients...
2025-08-04 13:02:47,556 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-04 13:02:47,934 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-04 13:02:47,934 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-04 13:02:49,685 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-04 13:02:49,751 - INFO - agents.base_agent - Clients initialized.
2025-08-04 13:02:49,751 - INFO - agents.base_agent - Initializing core engines...
2025-08-04 13:02:49,752 - INFO - agents.base_agent - Engines initialized.
2025-08-04 13:02:49,761 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7 "HTTP/1.1 200 OK"
2025-08-04 13:02:49,763 - INFO - agents.base_agent - Qdrant collection 'procwise_collection_final_v7' already exists.
2025-08-04 13:02:49,763 - INFO - agents.base_agent - AgentNick is ready.
2025-08-04 13:02:49,763 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-04 13:02:49,763 - INFO - agents.data_extraction_agent - Fetching database schemas...
2025-08-04 13:02:49,942 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-04 13:02:49,943 - INFO - api.main - System initialized successfully.
2025-08-04 13:03:36,428 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='string', product_type='string'
2025-08-04 13:03:36,460 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 13:06:41,634 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 13:06:41,635 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 13:08:06,096 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 13:10:02,417 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 13:10:02,446 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 13:13:03,080 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 13:13:03,080 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 13:13:27,172 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 13:22:39,290 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 13:22:39,321 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 13:25:45,595 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 13:25:45,596 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 13:26:26,873 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 13:49:03,531 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 13:49:03,555 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 13:52:40,469 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 13:52:40,470 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 13:53:29,239 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 13:53:46,129 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-04 13:53:46,163 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/procwise_collection_final_v7/points/search "HTTP/1.1 200 OK"
2025-08-04 13:57:37,708 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 13:57:37,709 - INFO - services.model_selector - Generating follow-up questions...
2025-08-04 19:14:59,275 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-04 19:14:59,294 - ERROR - services.model_selector - Error generating follow-ups: Unterminated string starting at: line 1 column 93749 (char 93748)
2025-08-05 06:05:41,598 - INFO - httpx - HTTP Request: GET http://127.0.0.1:11434/api/tags "HTTP/1.1 200 OK"
2025-08-07 20:49:25,258 - INFO - api.main - API starting up...
2025-08-07 20:49:25,258 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-07 20:49:25,258 - INFO - agents.base_agent - Initializing shared clients...
2025-08-07 20:49:25,337 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-07 20:49:25,677 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-07 20:49:25,677 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-07 20:49:27,984 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-07 20:49:28,051 - INFO - agents.base_agent - Clients initialized.
2025-08-07 20:49:28,051 - INFO - agents.base_agent - Initializing core engines...
2025-08-07 20:49:28,051 - INFO - agents.base_agent - Engines initialized.
2025-08-07 20:49:28,063 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-07 20:49:28,065 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-07 20:49:28,066 - INFO - agents.base_agent - AgentNick is ready.
2025-08-07 20:49:28,066 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-07 20:49:28,066 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-07 20:49:28,066 - INFO - api.main - System initialized successfully.
2025-08-07 20:50:19,639 - INFO - api.main - API starting up...
2025-08-07 20:50:19,639 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-07 20:50:19,639 - INFO - agents.base_agent - Initializing shared clients...
2025-08-07 20:50:19,718 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-07 20:50:20,025 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-07 20:50:20,026 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-07 20:50:22,090 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-07 20:50:22,159 - INFO - agents.base_agent - Clients initialized.
2025-08-07 20:50:22,159 - INFO - agents.base_agent - Initializing core engines...
2025-08-07 20:50:22,159 - INFO - agents.base_agent - Engines initialized.
2025-08-07 20:50:22,169 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-07 20:50:22,171 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-07 20:50:22,171 - INFO - agents.base_agent - AgentNick is ready.
2025-08-07 20:50:22,171 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-07 20:50:22,171 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-07 20:50:22,171 - INFO - api.main - System initialized successfully.
2025-08-07 20:50:27,646 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID 0d89beaa-1c0f-43b0-965f-7910f66fd3f8
2025-08-07 20:50:27,646 - ERROR - orchestration.orchestrator - Workflow 0d89beaa-1c0f-43b0-965f-7910f66fd3f8 failed: 'PolicyEngine' object has no attribute 'validate_workflow'
2025-08-07 20:54:23,328 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-07 20:54:23,712 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings/points/search "HTTP/1.1 200 OK"
2025-08-07 20:58:13,346 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-07 20:58:13,347 - INFO - services.model_selector - Generating follow-up questions...
2025-08-07 20:58:53,141 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-07 20:58:53,141 - ERROR - services.model_selector - Error generating follow-ups: Unterminated string starting at: line 1 column 557 (char 556)
2025-08-07 21:00:24,143 - INFO - services.model_selector - Answering query with model 'llama3.2' and filters: doc_type='None', product_type='None'
2025-08-07 21:00:24,476 - INFO - httpx - HTTP Request: POST https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings/points/search "HTTP/1.1 200 OK"
2025-08-07 21:03:48,353 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-07 21:03:48,354 - INFO - services.model_selector - Generating follow-up questions...
2025-08-07 21:04:22,301 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-08 06:06:34,553 - INFO - api.main - API shutting down.
2025-08-08 06:06:49,884 - INFO - api.main - API starting up...
2025-08-08 06:06:49,885 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-08 06:06:49,885 - INFO - agents.base_agent - Initializing shared clients...
2025-08-08 06:06:49,960 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 06:06:50,281 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-08 06:06:50,281 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-08 06:06:52,573 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-08 06:06:52,640 - INFO - agents.base_agent - Clients initialized.
2025-08-08 06:06:52,640 - INFO - agents.base_agent - Initializing core engines...
2025-08-08 06:06:52,640 - INFO - agents.base_agent - Engines initialized.
2025-08-08 06:06:52,651 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-08 06:06:52,653 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-08 06:06:52,653 - INFO - agents.base_agent - AgentNick is ready.
2025-08-08 06:06:52,653 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-08 06:06:52,653 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-08 06:06:52,653 - INFO - api.main - System initialized successfully.
2025-08-08 06:07:01,788 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID 87089a47-3c10-4948-b16e-a7725f3e15af
2025-08-08 06:12:51,935 - INFO - api.main - API shutting down.
2025-08-08 06:13:07,589 - INFO - api.main - API starting up...
2025-08-08 06:13:07,589 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-08 06:13:07,589 - INFO - agents.base_agent - Initializing shared clients...
2025-08-08 06:13:07,689 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 06:13:08,001 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-08 06:13:08,002 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-08 06:13:10,032 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-08 06:13:10,097 - INFO - agents.base_agent - Clients initialized.
2025-08-08 06:13:10,097 - INFO - agents.base_agent - Initializing core engines...
2025-08-08 06:13:10,098 - INFO - agents.base_agent - Engines initialized.
2025-08-08 06:13:10,108 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-08 06:13:10,110 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-08 06:13:10,110 - INFO - agents.base_agent - AgentNick is ready.
2025-08-08 06:13:10,110 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-08 06:13:10,110 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-08 06:13:10,110 - INFO - api.main - System initialized successfully.
2025-08-08 06:13:16,266 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID 4c83e48a-301d-42b8-86f9-a6a1ad087edd
2025-08-08 06:14:05,944 - INFO - api.main - API shutting down.
2025-08-08 06:14:21,909 - INFO - api.main - API starting up...
2025-08-08 06:14:21,910 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-08 06:14:21,910 - INFO - agents.base_agent - Initializing shared clients...
2025-08-08 06:14:21,988 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 06:14:22,306 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-08 06:14:22,307 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-08 06:14:24,310 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-08 06:14:24,377 - INFO - agents.base_agent - Clients initialized.
2025-08-08 06:14:24,377 - INFO - agents.base_agent - Initializing core engines...
2025-08-08 06:14:24,377 - INFO - agents.base_agent - Engines initialized.
2025-08-08 06:14:24,388 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-08 06:14:24,390 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-08 06:14:24,390 - INFO - agents.base_agent - AgentNick is ready.
2025-08-08 06:14:24,390 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-08 06:14:24,390 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-08 06:14:24,390 - INFO - api.main - System initialized successfully.
2025-08-08 06:14:27,993 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID bdfea013-f5aa-4620-9a02-c2464c0f1498
2025-08-08 06:14:54,730 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID 36a012b2-bdd3-4204-89e0-5f569bacac46
2025-08-08 06:19:34,087 - INFO - api.main - API starting up...
2025-08-08 06:19:34,087 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-08 06:19:34,087 - INFO - agents.base_agent - Initializing shared clients...
2025-08-08 06:19:34,167 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 06:19:34,476 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-08 06:19:34,476 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-08 06:19:36,549 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-08 06:19:36,619 - INFO - agents.base_agent - Clients initialized.
2025-08-08 06:19:36,619 - INFO - agents.base_agent - Initializing core engines...
2025-08-08 06:19:36,620 - INFO - agents.base_agent - Engines initialized.
2025-08-08 06:19:36,630 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-08 06:19:36,632 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-08 06:19:36,632 - INFO - agents.base_agent - AgentNick is ready.
2025-08-08 06:19:36,632 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-08 06:19:36,632 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-08 06:19:36,633 - INFO - api.main - System initialized successfully.
2025-08-08 06:19:39,614 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID 3a1139d5-d2dc-4c64-a275-60e4f824249b
2025-08-08 06:19:55,451 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID 5828528c-0d36-4982-b60d-734b3ba9f289
2025-08-08 06:27:33,770 - INFO - api.main - API shutting down.
2025-08-08 06:27:49,602 - INFO - api.main - API starting up...
2025-08-08 06:27:49,602 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-08 06:27:49,602 - INFO - agents.base_agent - Initializing shared clients...
2025-08-08 06:27:49,680 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 06:27:49,998 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-08 06:27:49,999 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-08 06:27:52,172 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-08 06:27:52,239 - INFO - agents.base_agent - Clients initialized.
2025-08-08 06:27:52,239 - INFO - agents.base_agent - Initializing core engines...
2025-08-08 06:27:52,240 - INFO - agents.base_agent - Engines initialized.
2025-08-08 06:27:52,251 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-08 06:27:52,253 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-08 06:27:52,253 - INFO - agents.base_agent - AgentNick is ready.
2025-08-08 06:27:52,253 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-08 06:27:52,253 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-08 06:27:52,254 - INFO - api.main - System initialized successfully.
2025-08-08 06:28:19,339 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID 4d2fe7fd-bcfe-40c6-bcab-67b0ccf84c83
2025-08-08 06:28:19,387 - ERROR - orchestration.orchestrator - Workflow 4d2fe7fd-bcfe-40c6-bcab-67b0ccf84c83 failed: Execution failed on sql '
            SELECT s.supplier_id,
                   s.supplier_name,
                   s.trading_name,
                   s.legal_structure,
                   s.is_preferred_supplier,
                   s.payment_terms     AS payment_terms_raw,
                   s.price_score       AS price_score_raw,
                   s.delivery_score    AS delivery_score_raw,
                   s.risk_score        AS risk_score_raw,
                   s.risk_score        AS risk_score,
                   COALESCE(inv.total_invoiced, 0) AS total_invoiced_score_raw,
                   COALESCE(po.total_ordered, 0)  AS total_ordered_score_raw
            FROM proc.supplier s
            LEFT JOIN (
                SELECT supplier_id, SUM(total_amount) AS total_invoiced
                FROM proc.invoice
                GROUP BY supplier_id
            ) inv ON inv.supplier_id = s.supplier_id
            LEFT JOIN (
                SELECT supplier_id, SUM(total_amount) AS total_ordered
                FROM proc.purchase_order
                GROUP BY supplier_id
            ) po ON po.supplier_id = s.supplier_id
            WHERE inv.supplier_id IS NOT NULL OR po.supplier_id IS NOT NULL;
        ': column "total_amount" does not exist
LINE 16:                 SELECT supplier_id, SUM(total_amount) AS tot...
                                                 ^
HINT:  Perhaps you meant to reference the column "invoice.tax_amount".

2025-08-08 06:39:00,890 - INFO - api.main - API shutting down.
2025-08-08 06:39:15,762 - INFO - api.main - API starting up...
2025-08-08 06:39:15,762 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-08 06:39:15,762 - INFO - agents.base_agent - Initializing shared clients...
2025-08-08 06:39:15,839 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 06:39:16,148 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-08 06:39:16,148 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-08 06:39:18,266 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-08 06:39:18,334 - INFO - agents.base_agent - Clients initialized.
2025-08-08 06:39:18,334 - INFO - agents.base_agent - Initializing core engines...
2025-08-08 06:39:18,334 - INFO - agents.base_agent - Engines initialized.
2025-08-08 06:39:18,344 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-08 06:39:18,346 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-08 06:39:18,346 - INFO - agents.base_agent - AgentNick is ready.
2025-08-08 06:39:18,346 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-08 06:39:18,346 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-08 06:39:18,346 - INFO - api.main - System initialized successfully.
2025-08-08 06:39:32,275 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID e3541072-e307-4d33-ab33-bfb5cd799232
2025-08-08 06:39:32,429 - ERROR - orchestration.orchestrator - Workflow e3541072-e307-4d33-ab33-bfb5cd799232 failed: Execution failed on sql '
            SELECT s.supplier_id,
                   s.supplier_name,
                   s.trading_name,
                   s.legal_structure,
                   s.is_preferred_supplier,
                   s.payment_terms     AS payment_terms_raw,
                   s.price_score       AS price_score_raw,
                   s.delivery_score    AS delivery_score_raw,
                   s.risk_score        AS risk_score_raw,
                   s.risk_score        AS risk_score,
                   COALESCE(inv.total_invoiced, 0) AS total_invoiced_score_raw,
                   COALESCE(po.total_ordered, 0)  AS total_ordered_score_raw
            FROM proc.supplier s
            LEFT JOIN (
                SELECT supplier_id, SUM(invoice_total_Incl_tax) AS total_invoiced
                FROM proc.invoice
                GROUP BY supplier_id
            ) inv ON inv.supplier_id = s.supplier_id
            LEFT JOIN (
                SELECT supplier_id, SUM(invoice_total_Incl_tax) AS total_ordered
                FROM proc.purchase_order
                GROUP BY supplier_id
            ) po ON po.supplier_id = s.supplier_id
            WHERE inv.supplier_id IS NOT NULL OR po.supplier_id IS NOT NULL;
        ': column "invoice_total_incl_tax" does not exist
LINE 21:                 SELECT supplier_id, SUM(invoice_total_Incl_t...
                                                 ^

2025-08-08 06:48:55,895 - INFO - api.main - API shutting down.
2025-08-08 06:49:12,023 - INFO - api.main - API starting up...
2025-08-08 06:49:12,023 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-08 06:49:12,023 - INFO - agents.base_agent - Initializing shared clients...
2025-08-08 06:49:12,100 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 06:49:12,414 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-08 06:49:12,414 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-08 06:49:14,528 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-08 06:49:14,593 - INFO - agents.base_agent - Clients initialized.
2025-08-08 06:49:14,594 - INFO - agents.base_agent - Initializing core engines...
2025-08-08 06:49:14,594 - INFO - agents.base_agent - Engines initialized.
2025-08-08 06:49:14,604 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-08 06:49:14,606 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-08 06:49:14,606 - INFO - agents.base_agent - AgentNick is ready.
2025-08-08 06:49:14,606 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-08 06:49:14,606 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-08 06:49:14,607 - INFO - api.main - System initialized successfully.
2025-08-08 06:50:02,244 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID ca86639b-26fc-4c03-998d-d8bd835b32a0
2025-08-08 06:50:02,286 - ERROR - orchestration.orchestrator - Workflow ca86639b-26fc-4c03-998d-d8bd835b32a0 failed: Query must be a string unless using sqlalchemy.
2025-08-08 07:08:30,226 - INFO - api.main - API shutting down.
2025-08-08 07:09:36,520 - INFO - api.main - API starting up...
2025-08-08 07:09:36,520 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-08 07:09:36,520 - INFO - agents.base_agent - Initializing shared clients...
2025-08-08 07:09:36,654 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 07:09:37,016 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-08 07:09:37,017 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-08 07:09:40,456 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-08 07:09:40,593 - INFO - agents.base_agent - Clients initialized.
2025-08-08 07:09:40,594 - INFO - agents.base_agent - Initializing core engines...
2025-08-08 07:09:40,595 - INFO - agents.base_agent - Engines initialized.
2025-08-08 07:09:40,606 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-08 07:09:40,615 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-08 07:09:40,615 - INFO - agents.base_agent - AgentNick is ready.
2025-08-08 07:09:40,615 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-08 07:09:40,615 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-08 07:09:40,616 - INFO - api.main - System initialized successfully.
2025-08-08 07:12:54,243 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID de0a483d-8b49-4a10-99c3-5c91243c235b
2025-08-08 07:19:19,477 - INFO - api.main - API starting up...
2025-08-08 07:19:19,477 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-08 07:19:19,477 - INFO - agents.base_agent - Initializing shared clients...
2025-08-08 07:19:19,587 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 07:19:19,933 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-08 07:19:19,933 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-08 07:19:23,620 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-08 07:19:23,773 - INFO - agents.base_agent - Clients initialized.
2025-08-08 07:19:23,773 - INFO - agents.base_agent - Initializing core engines...
2025-08-08 07:19:23,775 - INFO - agents.base_agent - Engines initialized.
2025-08-08 07:19:23,787 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-08 07:19:23,793 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-08 07:19:23,793 - INFO - agents.base_agent - AgentNick is ready.
2025-08-08 07:19:23,793 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-08 07:19:23,793 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-08 07:19:23,794 - INFO - api.main - System initialized successfully.
2025-08-08 07:19:35,864 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID c8665a23-0ee3-445b-a5ba-232d709cf19a
2025-08-08 07:19:35,903 - INFO - agents.supplier_ranking_agent - SupplierRankingAgent: Starting ranking...
2025-08-08 07:19:35,905 - WARNING - agents.supplier_ranking_agent - Criterion column missing: price_score
2025-08-08 07:19:35,905 - WARNING - agents.supplier_ranking_agent - Criterion column missing: delivery_score
2025-08-08 07:19:35,906 - ERROR - orchestration.orchestrator - Workflow c8665a23-0ee3-445b-a5ba-232d709cf19a failed: can't multiply sequence by non-int of type 'float'
2025-08-08 07:20:20,240 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID cb1a7cf5-2e73-4af3-b0d6-4f30ea128ea2
2025-08-08 07:20:20,276 - INFO - agents.supplier_ranking_agent - SupplierRankingAgent: Starting ranking...
2025-08-08 07:20:48,302 - WARNING - agents.supplier_ranking_agent - Criterion column missing: price_score
2025-08-08 07:20:48,303 - WARNING - agents.supplier_ranking_agent - Criterion column missing: delivery_score
2025-08-08 07:20:48,306 - ERROR - orchestration.orchestrator - Workflow cb1a7cf5-2e73-4af3-b0d6-4f30ea128ea2 failed: can't multiply sequence by non-int of type 'float'
2025-08-08 07:22:59,115 - INFO - api.main - API shutting down.
2025-08-08 07:24:05,664 - INFO - api.main - API starting up...
2025-08-08 07:24:05,664 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-08 07:24:05,665 - INFO - agents.base_agent - Initializing shared clients...
2025-08-08 07:24:05,790 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 07:24:06,266 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-08 07:24:06,267 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-08 07:24:10,360 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-08 07:24:10,495 - INFO - agents.base_agent - Clients initialized.
2025-08-08 07:24:10,496 - INFO - agents.base_agent - Initializing core engines...
2025-08-08 07:24:10,497 - INFO - agents.base_agent - Engines initialized.
2025-08-08 07:24:10,510 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-08 07:24:10,519 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-08 07:24:10,519 - INFO - agents.base_agent - AgentNick is ready.
2025-08-08 07:24:10,519 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-08 07:24:10,519 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-08 07:24:10,520 - INFO - api.main - System initialized successfully.
2025-08-08 07:24:30,549 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID 3d9ef325-9dd7-442d-aa0e-ee44cdba421d
2025-08-08 07:24:30,605 - INFO - agents.supplier_ranking_agent - SupplierRankingAgent: Starting ranking...
2025-08-08 07:24:44,347 - WARNING - agents.supplier_ranking_agent - Criterion column missing: price_score
2025-08-08 07:24:44,348 - WARNING - agents.supplier_ranking_agent - Criterion column missing: delivery_score
2025-08-08 07:24:44,351 - ERROR - orchestration.orchestrator - Workflow 3d9ef325-9dd7-442d-aa0e-ee44cdba421d failed: can't multiply sequence by non-int of type 'float'
2025-08-08 07:25:05,758 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID c4097390-25dc-4100-b04a-fa3a0969926f
2025-08-08 07:25:05,788 - INFO - agents.supplier_ranking_agent - SupplierRankingAgent: Starting ranking...
2025-08-08 07:25:05,790 - WARNING - agents.supplier_ranking_agent - Criterion column missing: price_score
2025-08-08 07:25:05,791 - WARNING - agents.supplier_ranking_agent - Criterion column missing: delivery_score
2025-08-08 07:25:05,792 - ERROR - orchestration.orchestrator - Workflow c4097390-25dc-4100-b04a-fa3a0969926f failed: can't multiply sequence by non-int of type 'float'
2025-08-08 07:25:12,794 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID ef5c3ad8-25b5-4ad0-a107-ce8e51715751
2025-08-08 07:25:12,823 - INFO - agents.supplier_ranking_agent - SupplierRankingAgent: Starting ranking...
2025-08-08 07:25:12,824 - WARNING - agents.supplier_ranking_agent - Criterion column missing: price_score
2025-08-08 07:25:12,824 - WARNING - agents.supplier_ranking_agent - Criterion column missing: delivery_score
2025-08-08 07:25:12,826 - ERROR - orchestration.orchestrator - Workflow ef5c3ad8-25b5-4ad0-a107-ce8e51715751 failed: can't multiply sequence by non-int of type 'float'
2025-08-08 07:25:23,885 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID 5ec58e92-d440-47bd-81b1-517d857bfde8
2025-08-08 07:25:23,921 - INFO - agents.supplier_ranking_agent - SupplierRankingAgent: Starting ranking...
2025-08-08 07:25:23,923 - WARNING - agents.supplier_ranking_agent - Criterion column missing: price_score
2025-08-08 07:25:23,923 - WARNING - agents.supplier_ranking_agent - Criterion column missing: delivery_score
2025-08-08 07:25:23,925 - ERROR - orchestration.orchestrator - Workflow 5ec58e92-d440-47bd-81b1-517d857bfde8 failed: can't multiply sequence by non-int of type 'float'
2025-08-08 07:25:30,607 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID 3ab1d549-0928-439c-bf15-5b3440a28152
2025-08-08 07:25:30,640 - INFO - agents.supplier_ranking_agent - SupplierRankingAgent: Starting ranking...
2025-08-08 07:26:17,680 - WARNING - agents.supplier_ranking_agent - Criterion column missing: price_score
2025-08-08 07:26:17,681 - WARNING - agents.supplier_ranking_agent - Criterion column missing: delivery_score
2025-08-08 07:26:56,350 - ERROR - orchestration.orchestrator - Workflow 3ab1d549-0928-439c-bf15-5b3440a28152 failed: can't multiply sequence by non-int of type 'float'
2025-08-08 07:27:17,771 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID 82a1d014-c3f1-4a42-96e2-c68b7f2b5b56
2025-08-08 07:27:17,819 - INFO - agents.supplier_ranking_agent - SupplierRankingAgent: Starting ranking...
2025-08-08 07:27:29,376 - WARNING - agents.supplier_ranking_agent - Criterion column missing: price_score
2025-08-08 07:27:29,376 - WARNING - agents.supplier_ranking_agent - Criterion column missing: delivery_score
2025-08-08 07:27:31,837 - ERROR - orchestration.orchestrator - Workflow 82a1d014-c3f1-4a42-96e2-c68b7f2b5b56 failed: can't multiply sequence by non-int of type 'float'
2025-08-08 07:28:14,939 - INFO - api.main - API shutting down.
2025-08-08 07:29:23,366 - INFO - api.main - API starting up...
2025-08-08 07:29:23,367 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-08 07:29:23,367 - INFO - agents.base_agent - Initializing shared clients...
2025-08-08 07:29:23,484 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 07:29:23,812 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-08 07:29:23,813 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-08 07:29:28,111 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-08 07:29:28,297 - INFO - agents.base_agent - Clients initialized.
2025-08-08 07:29:28,298 - INFO - agents.base_agent - Initializing core engines...
2025-08-08 07:29:28,299 - INFO - agents.base_agent - Engines initialized.
2025-08-08 07:29:28,313 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-08 07:29:28,322 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-08 07:29:28,322 - INFO - agents.base_agent - AgentNick is ready.
2025-08-08 07:29:28,322 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-08 07:29:28,322 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-08 07:29:28,323 - INFO - api.main - System initialized successfully.
2025-08-08 07:29:31,082 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID df08dcfd-3df8-42e4-a368-0c4abd7429df
2025-08-08 07:29:31,118 - INFO - agents.supplier_ranking_agent - SupplierRankingAgent: Starting ranking...
2025-08-08 07:29:31,120 - WARNING - agents.supplier_ranking_agent - Criterion column missing: price_score
2025-08-08 07:29:31,121 - WARNING - agents.supplier_ranking_agent - Criterion column missing: delivery_score
2025-08-08 07:29:36,256 - WARNING - agents.supplier_ranking_agent - Criterion column missing: payment_terms_score
2025-08-08 07:29:37,763 - ERROR - orchestration.orchestrator - Workflow df08dcfd-3df8-42e4-a368-0c4abd7429df failed: Unknown format code 'f' for object of type 'str'
2025-08-08 07:31:00,082 - INFO - api.main - API shutting down.
2025-08-08 07:32:06,654 - INFO - api.main - API starting up...
2025-08-08 07:32:06,654 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-08 07:32:06,655 - INFO - agents.base_agent - Initializing shared clients...
2025-08-08 07:32:06,852 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 07:32:07,182 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-08 07:32:07,183 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-08 07:32:10,596 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-08 07:32:10,737 - INFO - agents.base_agent - Clients initialized.
2025-08-08 07:32:10,737 - INFO - agents.base_agent - Initializing core engines...
2025-08-08 07:32:10,738 - INFO - agents.base_agent - Engines initialized.
2025-08-08 07:32:10,751 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-08 07:32:10,757 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-08 07:32:10,757 - INFO - agents.base_agent - AgentNick is ready.
2025-08-08 07:32:10,757 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-08 07:32:10,757 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-08 07:32:10,758 - INFO - api.main - System initialized successfully.
2025-08-08 07:33:08,696 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID 5d9941b9-035f-4b60-b137-c4a10353394d
2025-08-08 07:33:08,756 - INFO - agents.supplier_ranking_agent - SupplierRankingAgent: Starting ranking...
2025-08-08 07:33:08,758 - WARNING - agents.supplier_ranking_agent - Criterion column missing: price_score
2025-08-08 07:33:08,759 - WARNING - agents.supplier_ranking_agent - Criterion column missing: delivery_score
2025-08-08 07:33:12,530 - WARNING - agents.supplier_ranking_agent - Criterion column missing: payment_terms_score
2025-08-08 07:33:17,430 - WARNING - agents.supplier_ranking_agent - Score value for risk is not numeric: 99.95
2025-08-08 07:33:39,610 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-08 07:33:39,611 - WARNING - agents.supplier_ranking_agent - Score value for risk is not numeric: 99.92
2025-08-08 07:33:48,972 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-08 07:33:48,973 - WARNING - agents.supplier_ranking_agent - Score value for risk is not numeric: 99.81
2025-08-08 07:34:00,428 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-08 07:34:00,444 - INFO - agents.supplier_ranking_agent - SupplierRankingAgent: Ranking complete.
2025-08-08 07:34:57,052 - INFO - api.main - API shutting down.
2025-08-08 07:35:17,757 - INFO - api.main - API starting up...
2025-08-08 07:35:17,757 - INFO - agents.base_agent - AgentNick is waking up...
2025-08-08 07:35:17,757 - INFO - agents.base_agent - Initializing shared clients...
2025-08-08 07:35:17,834 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333 "HTTP/1.1 200 OK"
2025-08-08 07:35:18,127 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-08-08 07:35:18,128 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-roberta-large-v1
2025-08-08 07:35:20,153 - INFO - botocore.credentials - Found credentials in shared credentials file: ~/.aws/credentials
2025-08-08 07:35:20,218 - INFO - agents.base_agent - Clients initialized.
2025-08-08 07:35:20,219 - INFO - agents.base_agent - Initializing core engines...
2025-08-08 07:35:20,219 - INFO - agents.base_agent - Engines initialized.
2025-08-08 07:35:20,229 - INFO - httpx - HTTP Request: GET https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings "HTTP/1.1 200 OK"
2025-08-08 07:35:20,231 - INFO - agents.base_agent - Qdrant collection 'ProcWise_document_embeddings' already exists.
2025-08-08 07:35:20,231 - INFO - agents.base_agent - AgentNick is ready.
2025-08-08 07:35:20,231 - INFO - agents.base_agent - Initialized agent: DataExtractionAgent
2025-08-08 07:35:20,231 - INFO - agents.base_agent - Initialized agent: SupplierRankingAgent
2025-08-08 07:35:20,231 - INFO - api.main - System initialized successfully.
2025-08-08 07:36:48,376 - INFO - orchestration.orchestrator - Starting workflow document_extraction with ID 7205881e-f874-4890-b39a-c958fdf5cdcf
2025-08-08 07:36:48,549 - INFO - agents.data_extraction_agent - Processing Invoice/DIXON, REYNOLDS ETC INV600784 for QUT10253.pdf
2025-08-08 07:36:49,147 - INFO - httpx - HTTP Request: PUT https://bf53d8ba-32ce-44b4-ba32-bbc9fd9b688c.eu-west-1-0.aws.cloud.qdrant.io:6333/collections/ProcWise_document_embeddings/points?wait=true "HTTP/1.1 404 Not Found"
2025-08-08 07:36:49,147 - ERROR - agents.data_extraction_agent - DataExtractionAgent failed: Unexpected Response: 404 (Not Found)
Raw response content:
b'{"status":{"error":"Not found: Collection `ProcWise_document_embeddings` doesn\'t exist!"},"time":1.723e-6}'
2025-08-08 07:38:01,245 - INFO - orchestration.orchestrator - Starting workflow supplier_ranking with ID aba39716-e4fa-45f1-9fa4-4f5de8066534
2025-08-08 07:38:01,279 - INFO - agents.supplier_ranking_agent - SupplierRankingAgent: Starting ranking...
2025-08-08 07:38:01,280 - WARNING - agents.supplier_ranking_agent - Criterion column missing: price_score
2025-08-08 07:38:01,280 - WARNING - agents.supplier_ranking_agent - Criterion column missing: delivery_score
2025-08-08 07:38:01,282 - WARNING - agents.supplier_ranking_agent - Criterion column missing: payment_terms_score
2025-08-08 07:38:01,283 - WARNING - agents.supplier_ranking_agent - Score value for risk is not numeric: 99.95
2025-08-08 07:38:10,888 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-08 07:38:10,889 - WARNING - agents.supplier_ranking_agent - Score value for risk is not numeric: 99.92
2025-08-08 07:38:22,781 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-08 07:38:22,781 - WARNING - agents.supplier_ranking_agent - Score value for risk is not numeric: 99.81
2025-08-08 07:38:32,744 - INFO - httpx - HTTP Request: POST http://127.0.0.1:11434/api/generate "HTTP/1.1 200 OK"
2025-08-08 07:38:32,755 - INFO - agents.supplier_ranking_agent - SupplierRankingAgent: Ranking complete.
